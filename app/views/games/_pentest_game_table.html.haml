%thead
  %tr
    - @table_heading.each do |challenge|
      %th{ :style => "text-align:center;width:#{heading_width(@table_heading)}%;" }= challenge.name
%tbody
  - @teams_with_assoc.each_key do |team|
    %tr{style: cell_background_color(team)}
      %td{style: 'text-align:center;'}
        = team
      - @teams_with_assoc[team].each_value do |pair|
        - unless pair[:flag].nil?
          = render partial: 'pentest_challenge',
            locals: { flag: pair[:flag], challenge: pair[:challenge], defense_team: team }
        - else
          %td &nbsp;
